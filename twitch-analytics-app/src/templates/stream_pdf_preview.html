<!DOCTYPE html>
<html lang="en">
<head>
    <title>Stream PDF Preview</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', Arial, sans-serif; }
    </style>
</head>
<body>
<div class="container py-5">
    <div class="mb-4">
        <a href="{{ url_for('home') }}" class="btn btn-twitch btn-lg" style="font-weight:700;">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="#fff" class="me-2" viewBox="0 0 16 16">
                <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 2 7.5V14a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-2h2v2a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V7.5a.5.5 0 0 0-.146-.354l-6-6z"/>
            </svg>
            Home
        </a>
    </div>
    <h2>PDF Preview for Stream: {{ stream.title or stream.date }} ({{ stream.streamer }})</h2>
    {% if chart %}
    <div class="mb-4">
        <img src="data:image/png;base64,{{ chart }}" class="img-fluid" alt="Viewers Chart">
    </div>
    {% endif %}
    <h4>Hourly Stats</h4>
    <table class="table table-dark table-striped">
        <thead>
            <tr>
                <th>Hour</th>
                <th>Viewers</th>
                <th>Followers</th>
                <th>Subs</th>
                <th>Donations</th>
                <th>Sub Donos</th>
                <th>Bit Donos</th>
            </tr>
        </thead>
        <tbody>
            {% for stat in stats %}
            <tr>
                <td>{{ stat.hour }}</td>
                <td>{{ stat.viewers }}</td>
                <td>{{ stat.followers }}</td>
                <td>{{ stat.subs }}</td>
                <td>{{ stat.donations }}</td>
                <td>{{ stat.sub_donations }}</td>
                <td>{{ stat.bit_donations }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</body>
</html>
